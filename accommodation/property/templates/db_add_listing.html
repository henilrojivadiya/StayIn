{% extends 'base_dashboard.html' %}

{% block dashboard_content %}
<div class="row">
    <div class="col-md-12">
        <div class="db-add-list-wrap">
            <div class="act-title">
                <h5>General Information :</h5>
            </div>
            <div class="db-add-listing">
                <form method="POST" action="{% url 'add_listing' %}" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>City</label>
                                <input type="text" class="form-control filter-input" placeholder="Sea View Apartment">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Area</label>
                                <input type="text" class="form-control filter-input"
                                    placeholder="Address of your property">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="exampleInputEmail1">Property Name</label>
                                {{form.name}}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="exampleInputEmail1">Property Address</label>
                                {{form.address }}
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="exampleInputEmail1">Property Type</label>
                                {{form.property_type }}
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="exampleInputEmail1">Property For</label>
                                {{form.property_for }}
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="exampleInputEmail1">Popular Location</label>
                                {{form.popular_location }}
                            </div>
                        </div>
                        <div class="col-md-12">
                            <br>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="exampleInputEmail1">Price</label>
                                {{form.price }}
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="exampleInputEmail1">Deposite</label>
                                {{form.deposite }}
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="exampleInputEmail1">Deposite</label>
                                {{form.description }}
                            </div>
                        </div>
                    </div>
            </div>
        </div>
        <div class="db-add-list-wrap">
            <div class="act-title">
                <h5>Property Details :</h5>
            </div>
            <div class="db-add-listing">
                <div class="row mb-30">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="exampleInputEmail1">Number of Bedrooms</label>
                            {{form.total_room}}
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Number Space per Rooms</label>
                            {{form.avail_space_per_room }}
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Number of Bathrooms</label>
                            {{form.total_bathroom}}
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="exampleInputEmail1">Total Space</label>
                            {{form.total_space }}
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="exampleInputEmail1">Available Space</label>
                            {{form.available_space }}
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="act-title">
                            <h5>Amenities :</h5>
                        </div>
                        <div class="form-group">
                            <!-- <label>Amenities</label> -->
                            <div class="row">
                                <input type="hidden" class="form-control" name='amenity_check' id="amenities_check" />

                                <div class="col-md-6">
                                    <div class="row">
                                        {% for a in amenities %}
                                        <div class="col-md-4 col-sm-6">
                                            <input class="form-check-input amenities_checkbox" type="checkbox"
                                                value="{{a.id}}" name="{{a}}" id='{{a}}'>
                                            &nbsp;&nbsp;
                                            <img src="{{a.icon.url}}" style="width: 10%; height: 40%;">
                                            <label class="form-check-label" for="{{a}}">
                                                {{a}}
                                            </label>
                                        </div><br><br><br>
                                        {% endfor %}
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="act-title">
                            <h5>Policies :</h5>
                        </div>
                        <div class="form-group">
                            <!-- <label>Amenities</label> -->
                            <div class="row">
                                <div class="col-md-12">
                                    <input type="hidden" class="form-control" name='policies_check'
                                        id="policies_check_id" />
                                    <div class="checkbox">
                                        {% for p in policies %}
                                        <input class="form-check-input policies_checkbox" type="checkbox"
                                            value="{{p.id}}" name="{{p}}" id='{{p.id}}'>
                                        <label class="form-check-label" for="{{p.id}}">
                                            {{p}}.
                                        </label><br><br>
                                        {% endfor %}
                                        <br>
                                    </div><br>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="db-add-list-wrap">
            <div class="act-title">
                <h5>Gallery :</h5>
            </div>
            <div class="db-add-listing">
                <div class="row">
                    <div class="col-md-12 mb-5">
                        <!-- <h4><i class="lnr lnr-picture"></i> Gallery :</h4> -->
                        <div class="row">
                            <div class="col-md-4">
                                <div style="width: 400px; margin: 20px auto 20px auto;">
                                    <div class="custom-file-container" data-upload-id="myupload">
                                        <label>FIle Upload eith Preview<a href="javascript:void(0)"
                                                class="custom-file-container__image-clear">&times;</a></label>

                                        <label class="custom-file-container__custom-file">
                                            <input type="file" name="property_main_image"
                                                class="custom-file-container__custom-file__custom-file-input"
                                                accept="image/*">
                                            <input type="hidden" name="MAX_FILE_SIZE" value="10485760">
                                            <span
                                                class="custom-file-container__custom-file__custom-file-control"></span>
                                        </label>

                                        <div class="custom-file-container__image-preview" style="overflow: hidden;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div style="width: 400px; margin: 20px auto 20px auto;">
                                    <div class="custom-file-container" data-upload-id="myuploadpic">
                                        <label>Property Images FIle Upload eith Preview<a href="javascript:void(0)"
                                                class="custom-file-container__image-clear">&times;</a></label>

                                        <label class="custom-file-container__custom-file">
                                            <input type="file" name="property_images"
                                                class="custom-file-container__custom-file__custom-file-input" accept="*"
                                                multiple aria-label="Multiple Select Files">

                                            <input type="hidden" name="MAX_FILE_SIZE" value="10485760">
                                            <span
                                                class="custom-file-container__custom-file__custom-file-control"></span>
                                        </label>

                                        <div class="custom-file-container__image-preview" style="overflow: hidden;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div><br>
                    </div>
                    <input type="hidden" value="db_add_listing" name="db_add_listing">
                    <button type="submit" class="btn btn-outline-success amenities_save">Save</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://unpkg.com/file-upload-with-preview@4.1.0/dist/file-upload-with-preview.min.js"></script>

<script>

    function copy() {
        document.getElementById('id_address').value = document.getElementById('your_address').value;
    }

    $(document).ready(function () {
        $('.amenities_save').click(function (event) {
            var amenities_selected = ""
            $('.amenities_checkbox:checked').each(function () {
                amenities_selected += $(this).val() + ","
            });
            $('#amenities_check').val(amenities_selected)

            var policies_selected = ""
            $('.policies_checkbox:checked').each(function () {
                policies_selected += $(this).val() + ","
            });
            $('#policies_check_id').val(policies_selected)
        });
    })

    var upload = new FileUploadWithPreview('myupload')
    var uploadpic = new FileUploadWithPreview('myuploadpic')

</script>
{% endblock %}